import{_ as u,o,c as a,a as l,t as d,b as _,ag as m,ai as f,F as g,i as v,ab as r,aa as O,d as V}from"./DrCf4G5v.js";const k={},x={class:"oapi-expand-icon",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"};function w(t,i){return o(),a("svg",x,i[0]||(i[0]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"},null,-1)]))}const c=u(k,[["render",w]]),y={name:"OpenApiDropdown",components:{OpenApiExpandIcon:c},model:{prop:"modelValue",event:"update:modelValue"},props:{modelValue:{type:[String,Number],default:null},options:{type:Array,required:!0},valueProp:{type:String,default:"value"},textProp:{type:String,default:"text"},placeholder:{type:String,default:null}},data(){return{isOpen:!1}},computed:{classes(){return{"oapi-dd--is-open":this.isOpen,"oapi-dd--empty":this.modelValue===null}},selectedOption(){return this.modelValue===null?null:this.options.find(t=>t[this.valueProp]===this.modelValue)||null}},beforeUnmount(){this.cleanupOutside()},methods:{toggle(){this.isOpen?this.close():this.open()},handleOutsideClick(t){this.isOpen&&(this.$refs.popup&&(this.$refs.input===t.target||this.$refs.input.contains(t.target))||this.$refs.popup&&(this.$refs.popup===t.target||this.$refs.popup.contains(t.target))||this.close())},cleanupOutside(){document.removeEventListener("click",this.handleOutsideClick)},open(){this.isOpen=!0,this.$nextTick(()=>{document.addEventListener("click",this.handleOutsideClick)})},close(){this.isOpen=!1,this.cleanupOutside()},select(t){this.modelValue!==t&&this.$emit("update:modelValue",t),this.close()}}},P={class:"oapi-dd-container__content"},C={class:"oapi-dd-container__dd-icon"},S={ref:"popup",class:"oapi-dd-popup"},E={class:"oapi-dd-popup__list"},b=["onClick"];function A(t,i,e,B,p,n){const h=c;return o(),a("div",{class:r(["oapi-dd",n.classes]),ref:"input"},[l("div",{class:"oapi-dd-container",onClick:i[0]||(i[0]=(...s)=>n.toggle&&n.toggle(...s))},[l("span",P,d(n.selectedOption?n.selectedOption[e.textProp]:e.placeholder),1),l("span",C,[_(h)])]),m(l("div",S,[l("ul",E,[(o(!0),a(g,null,v(e.options,s=>(o(),a("li",{key:s[e.valueProp],class:r(["oapi-dd-popup__list-item",{"oapi-dd-popup__list-item--is-active":e.modelValue!==null&&s[e.valueProp]===e.modelValue}]),onClick:N=>n.select(s[e.valueProp])},[O(t.$slots,"default",{item:s,selectedValue:e.modelValue,isSelected:e.modelValue!==null&&s[e.valueProp]===e.modelValue,close:n.close},()=>[V(d(s[e.textProp]),1)])],10,b))),128))])],512),[[f,p.isOpen]])],2)}const L=u(y,[["render",A]]);export{c as _,L as a};
