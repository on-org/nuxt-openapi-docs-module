import{_ as W,a as U,b as F,c as z,d as V,e as G}from"./S17Rj4KH.js";import{_ as J}from"./Bn-2SRJG.js";import{g as K,E as Q,H as X,r as x,f as o,h as Y,l as Z,o as h,c as ee,u as e,I as m,b as O,w as se,q as ne}from"./Cjfm5NGF.js";import{u as ae}from"./xwtnb2jS.js";import{d as te}from"./CjlHlbaW.js";import"./B0Fkjq2x.js";import"./BCgRHroz.js";const l={openapi:"3.0.0",info:{title:"Collapsible Tags",version:"1.0.0",description:`<p>Tags in openapi are used for grouping and ordering operations.<br/>
In RapiDoc&#39;s <code>view</code> mode these tags acts like an accordions, which you can expand or collapse.</p>
<p>By default all the tags are expanded, but if you wish to collapse certain tags at the beginning when the spec is loaded,<br/>
you may do so by using <code>x-tag-expanded</code> extension under <code>tags</code> section which can contain <code>true</code> or <code>false</code></p>
<p>below is an example how to achieve it</p>
<pre><code class="hljs language-yaml">  <span class="hljs-attr">openapi:</span> <span class="hljs-number">3.0</span><span class="hljs-number">.0</span>
  <span class="hljs-attr">info:</span>
    <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
    <span class="hljs-attr">title:</span> <span class="hljs-string">Collapsible</span> <span class="hljs-string">Tags</span>
  <span class="hljs-attr">paths:</span>
    <span class="hljs-string">...</span>
    <span class="hljs-string">...</span>
  <span class="hljs-attr">tags:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">1</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">2</span>
      <span class="hljs-attr">x-tag-expanded:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># &lt;-- extension to control expand collapse tags in RapiDoc</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">3</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">4</span>
</code></pre><p>Even if a tag is closed, you can create links to operations inside them.<br/> 
Upon clicking the link, it will open the tag if it is closed and navigate to operation&#39;s location </p>
<p>Example: <strong><a href="#get-/path1-in-closed-tag">Link</a></strong> for <code>path1-in-closed-tag</code></p>
`},paths:{"/path1-in-open-tag":{get:{summary:"Path 1 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}},{name:"age",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}}}},"/path2-in-open-tag":{get:{summary:"Path 2 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path1-in-closed-tag":{get:{summary:"Path 1 under closed tag",tags:["Closed"],parameters:[{name:"city",in:"query",schema:{type:"string"}},{name:"state",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path2-in-closed-tag":{get:{summary:"Path 2 under closed tag",tags:["Closed"],parameters:[{name:"grade",in:"query",schema:{type:"string"}},{name:"salary",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/No-Tags":{get:{summary:"This path dont have any tag associated with it. (It gets created from the path)",responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}},tags:["other"]}}},tags:{open:{name:"Open",description:`<p>This tag is <strong>open</strong> by default, and it contains 2 paths inside it.</p>
`},closed:{name:"Closed",description:`<p>This tag is <strong>closed</strong> in the begining when the spec loads. It achieved by using <code>x-tag-expanded</code> extension</p>
`,"x-tag-expanded":!1}},components:{schemas:{user:{type:"object",properties:{id:{description:"User ID",type:"integer"},email:{description:"User Email",type:"string"},name:{description:"First Name",type:"string"}}},job:{type:"object",properties:{job:{type:"string"},grade:{type:"string"}}}}}},oe={class:"content-container"},de=K({__name:"collapsable",setup(re){const d=Q(),E=X(),{$openapidoc:g,$openapidocBus:T,$openapidocRef:v}=ne(),f=x(""),A=x(0),_=x((te.path??"").toString()),c=x(l??{}),b=o(()=>"collapsable"),t=o(()=>d.params.type.toString()),P=o(()=>(d.params.mathod??"default").toString()),k=o(()=>t.value==="info"),w=o(()=>t.value==="auth"),S=o(()=>t.value==="components"),u=o(()=>g.currentLocale());v.setComponents(l.components),v.setDefinitions(l.definitions),v.setDocPath(_.value),v.setFile(b.value);const r=o(()=>{const s={...l.paths};if(!s)return null;for(const a in s){let n=a.toString();if(n.startsWith("/")&&(n=n.substring(1)),n.endsWith("/")&&(n=n.substring(-1)),n=n.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),n===P.value)return f.value=a.toString(),s[a]??null}return null}),p=o(()=>{const s={...l.webhooks};if(!s)return null;for(const a in s){let n=a.toString();if(n.startsWith("/")&&(n=n.substring(1)),n.endsWith("/")&&(n=n.substring(-1)),n=n.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),n===P.value)return f.value=a.toString(),s[a][t.value]??null}return null}),i=o(()=>r.value?r.value[t.value]??null:null),q=o(()=>r.value?r.value.parameters??null:null),H=o(()=>{const s=g.currentLocale()??"";return k.value?"[collapsable] - Info Docs":w.value?"[collapsable] - Authorization":S.value?"[collapsable] - Components Docs":i.value?"[collapsable] - "+(i.value["x-summary-"+s.value]||i.value.summary||""):""}),R=o(()=>{const s=g.currentLocale()??"";return k.value?"[collapsable] - Info Docs":w.value?"[collapsable] - Authorization":S.value?"[collapsable] - Components Docs":i.value&&(i.value["x-description-"+s.value]||i.value.description)||""});ae({title:H.value,meta:[{name:"description",content:R.value}],htmlAttrs:{lang:u.value},bodyAttrs:{class:"oapi"}});const I=o(()=>{if(r.value){if(r.value.servers&&r.value.servers[0])return r.value.servers[0].url??null;if(r.value[t.value]&&r.value[t.value].servers&&r.value[t.value].servers[0])return r.value[t.value].servers[0].url??null}if(p.value){if(p.value.servers&&p.value.servers[0])return p.value.servers[0].url??null;if(p.value[t.value]&&p.value[t.value].servers&&p.value[t.value].servers[0])return p.value[t.value].servers[0].url??null}let s=A.value;if(s>0&&l.servers&&!l.servers[s]&&(s=0),!l.servers||!l.servers[s])return"";if(l.servers[s].variables){const a=Object.values(l.servers[s].variables)??[];if(a&&a.length)return a[0].default}return l.servers[s].url??""});function D(s){A.value=s}function B(){var a;(((a=document.querySelector(".content-container"))==null?void 0:a.querySelectorAll("h1[id], h2[id], h3[id], h4[id]"))??[]).forEach(n=>{n.addEventListener("click",C=>{const y=n.getAttribute("id"),j=window.location.origin+window.location.pathname+"#"+y;g.copyToClipboard(j,C,!1),E.push({path:d.path,hash:"#"+y}),setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"start"})},100)})})}function L(){if(d.hash)return;const s=document.querySelector(".oapi-content");s&&(s.scrollTop=0)}return Y(()=>{T.$on("changeServer",D),L(),B()}),Z(()=>{T.$off("changeServer",D)}),(s,a)=>{const n=W,C=U,y=F,j=z,N=V,$=G,M=J;return h(),ee("div",oe,[e(k)&&e(c).info?(h(),m(n,{key:0,info:e(c).info,servers:e(c).servers,"current-locale":e(u)},null,8,["info","servers","current-locale"])):e(w)&&e(c).components?(h(),m(C,{key:1,components:e(c).components,"current-locale":e(u)},null,8,["components","current-locale"])):e(S)&&e(c).components?(h(),m(y,{key:2,components:e(c).components,"current-locale":e(u)},null,8,["components","current-locale"])):e(i)?(h(),m(j,{key:3,route:e(i),"current-locale":e(u),method:e(t),components:e(c).components,url:e(f),path_doc:e(_),file:e(b),server:e(I),"sub-params":e(q)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):e(p)?(h(),m(j,{key:4,route:e(p),"current-locale":e(u),method:e(t),components:e(c).components,url:e(f),path_doc:e(_),file:e(b),server:e(I),"sub-params":e(q)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):(h(),m(N,{key:5})),O(M,null,{default:se(()=>[O($,{"current-locale":e(u),doc:e(c),path:e(_),file:e(b)},null,8,["current-locale","doc","path","file"])]),_:1})])}}});export{de as default};
